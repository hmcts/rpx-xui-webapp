[{"__symbolic":"module","version":4,"metadata":{"WriteCollectionFieldComponent":{"__symbolic":"class","extends":{"__symbolic":"reference","module":"../base-field/abstract-field-write.component","name":"AbstractFieldWriteComponent","line":75,"character":51},"decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":23,"character":1},"arguments":[{"selector":"ccd-write-collection-field","template":"\n    <div class=\"form-group\" [id]=\"id()\">\n\n      <div class=\"panel collection-indicator\">\n\n        <h2 class=\"heading-h2 error-spacing\">\n          {{caseField | ccdFieldLabel}}\n        </h2>\n        <button class=\"button\" type=\"button\" (click)=\"addItem(true)\" [disabled]=\"isNotAuthorisedToCreate() || isSearchFilter()\">Add new</button>\n        <h2 class=\"heading-h2 error-spacing\" *ngIf=\"caseField.hint_text || formArray.errors\">\n          <span *ngIf=\"caseField.hint_text\" class=\"form-hint\">{{caseField.hint_text}}</span>\n          <span *ngIf=\"formArray.errors\" class=\"error-message\">{{formArray.errors | ccdFirstError:caseField.label}}</span>\n        </h2>\n\n        <div class=\"form-group\" [hidden]=\"caseField.hidden\" *ngIf=\"caseField.value && caseField.value.length\">\n\n          <div class=\"form-group\" *ngFor=\"let item of collItems; let i = index\" #collectionItem>\n            <div class=\"collection-title\">\n              <div class=\"float-left\">\n                <label [for]=\"item.prefix + i\"><h3 class=\"heading-h3\">{{itemLabel(i)}}</h3></label>\n              </div>\n              <div class=\"float-right\">\n                <button class=\"button button-secondary\" type=\"button\" (click)=\"openModal(i)\"\n                        [disabled]=\"isNotAuthorisedToDelete(i)\"\n                        attr.aria-label=\"Remove {{ itemLabel(i) }}\">Remove</button>\n              </div>\n            </div>\n            <ccd-field-write [caseField]=\"item.caseField\"\n                             [caseFields]=\"caseFields\"\n                             [formGroup]=\"formGroup\"\n                             [parent]=\"item.container\"\n                             [idPrefix]=\"item.prefix\"\n                             [hidden]=\"item.caseField.hidden\"\n                             [isExpanded]=\"isExpanded\"\n                             [isInSearchBlock]=\"isInSearchBlock\">\n            </ccd-field-write>\n          </div>\n\n        </div>\n\n        <button class=\"button\" type=\"button\" (click)=\"addItem(false)\" [disabled]=\"isNotAuthorisedToCreate() || isSearchFilter()\" *ngIf=\"caseField.value && caseField.value.length\">Add new</button>\n\n      </div>\n\n    </div>\n  ","styles":["\n    .collection-field-table tr:first-child>td{padding-top:0}.collection-field-table tr:last-child>td{border-bottom:none}.collection-field-table td.collection-actions{width:1px;white-space:nowrap}.error-spacing{margin-top:10px}.collection-title{height:51px}.float-left{float:left;padding-top:8px}.float-right{float:right}.complex-panel{margin:13px 0px;border:1px solid #bfc1c3}.complex-panel .complex-panel-title{background-color:#dee0e2;padding:5px;border-bottom:1px solid #bfc1c3;font-weight:bold;display:block;color:#0b0c0c;padding-bottom:2px;font-family:\"nta\",Arial,sans-serif;font-weight:700;text-transform:none;font-size:16px;line-height:1.25}@media (min-width: 641px){.complex-panel .complex-panel-title{font-size:19px;line-height:1.31579}}.complex-panel .complex-panel-table>tbody>tr>th{vertical-align:top}.complex-panel .complex-panel-table>tbody>tr:last-child>th,.complex-panel .complex-panel-table>tbody>tr:last-child>td{border-bottom:none}.complex-panel .complex-panel-simple-field th{padding-left:5px;width:295px}.complex-panel .complex-panel-compound-field td{padding:5px}.collection-indicator{border-left:solid 5px #b1b4b6}\n  "]}]}],"members":{"caseFields":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":76,"character":3}}]}],"formGroup":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":79,"character":3}}]}],"items":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChildren","line":87,"character":3},"arguments":["collectionItem"]}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/material","name":"MatDialog","line":91,"character":39},{"__symbolic":"reference","module":"@nicky-lenaers/ngx-scroll-to","name":"ScrollToService","line":92,"character":48},{"__symbolic":"reference","module":"../../../services","name":"ProfileNotifier","line":93,"character":48}]}],"ngOnInit":[{"__symbolic":"method"}],"ngOnDestroy":[{"__symbolic":"method"}],"buildCaseField":[{"__symbolic":"method"}],"newCaseField":[{"__symbolic":"method"}],"buildIdPrefix":[{"__symbolic":"method"}],"getContainer":[{"__symbolic":"method"}],"isSearchFilter":[{"__symbolic":"method"}],"addItem":[{"__symbolic":"method"}],"focusLastItem":[{"__symbolic":"method"}],"removeItem":[{"__symbolic":"method"}],"itemLabel":[{"__symbolic":"method"}],"isNotAuthorisedToCreate":[{"__symbolic":"method"}],"getCollectionPermission":[{"__symbolic":"method"}],"isNotAuthorisedToUpdate":[{"__symbolic":"method"}],"hasUpdateAccess":[{"__symbolic":"method"}],"isNotAuthorisedToDelete":[{"__symbolic":"method"}],"openModal":[{"__symbolic":"method"}],"getControlIdAt":[{"__symbolic":"method"}],"isCollectionOfSimpleType":[{"__symbolic":"method"}]}}}}]