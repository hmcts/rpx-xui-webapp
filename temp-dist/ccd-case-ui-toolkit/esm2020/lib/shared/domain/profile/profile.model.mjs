import { __decorate, __metadata } from "tslib";
import { Type } from 'class-transformer';
import { Jurisdiction } from '../definition/jurisdiction.model';
function hasRoles(profile) {
    if (profile.user && profile.user.idam && Array.isArray(profile.user.idam.roles)) {
        return profile.user.idam.roles.length > 0;
    }
    return false;
}
// @dynamic
export class Profile {
    isSolicitor() {
        if (hasRoles(this)) {
            return this.user.idam.roles.find(r => r.endsWith('-solicitor')) !== undefined;
        }
        return false;
    }
    isCourtAdmin() {
        if (hasRoles(this)) {
            return this.user.idam.roles.find(r => r.endsWith('-courtadmin')) !== undefined;
        }
        return false;
    }
}
__decorate([
    Type(() => Jurisdiction),
    __metadata("design:type", Array)
], Profile.prototype, "jurisdictions", void 0);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZmlsZS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NjZC1jYXNlLXVpLXRvb2xraXQvc3JjL2xpYi9zaGFyZWQvZG9tYWluL3Byb2ZpbGUvcHJvZmlsZS5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUVoRSxTQUFTLFFBQVEsQ0FBQyxPQUFnQjtJQUNoQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUMvRSxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0tBQzNDO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsV0FBVztBQUNYLE1BQU0sT0FBTyxPQUFPO0lBd0JYLFdBQVc7UUFDaEIsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDbEIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQztTQUMvRTtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVNLFlBQVk7UUFDakIsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDbEIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQztTQUNoRjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztDQUNGO0FBeEJDO0lBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQzs7OENBQ1kiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnY2xhc3MtdHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgSnVyaXNkaWN0aW9uIH0gZnJvbSAnLi4vZGVmaW5pdGlvbi9qdXJpc2RpY3Rpb24ubW9kZWwnO1xuXG5mdW5jdGlvbiBoYXNSb2xlcyhwcm9maWxlOiBQcm9maWxlKTogYm9vbGVhbiB7XG4gIGlmIChwcm9maWxlLnVzZXIgJiYgcHJvZmlsZS51c2VyLmlkYW0gJiYgQXJyYXkuaXNBcnJheShwcm9maWxlLnVzZXIuaWRhbS5yb2xlcykpIHtcbiAgICByZXR1cm4gcHJvZmlsZS51c2VyLmlkYW0ucm9sZXMubGVuZ3RoID4gMDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIEBkeW5hbWljXG5leHBvcnQgY2xhc3MgUHJvZmlsZSB7XG4gIHB1YmxpYyB1c2VyOiB7XG4gICAgaWRhbToge1xuICAgICAgaWQ6IHN0cmluZyxcbiAgICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgICBmb3JlbmFtZTogc3RyaW5nLFxuICAgICAgc3VybmFtZTogc3RyaW5nLFxuICAgICAgcm9sZXM6IHN0cmluZ1tdXG4gICAgfVxuICB9O1xuXG4gIHB1YmxpYyBjaGFubmVsczogc3RyaW5nW107XG5cbiAgQFR5cGUoKCkgPT4gSnVyaXNkaWN0aW9uKVxuICBwdWJsaWMganVyaXNkaWN0aW9uczogSnVyaXNkaWN0aW9uW107XG5cbiAgcHVibGljIGRlZmF1bHQ6IHtcbiAgICB3b3JrYmFza2V0OiB7XG4gICAgICBqdXJpc2RpY3Rpb25faWQ6IHN0cmluZyxcbiAgICAgIGNhc2VfdHlwZV9pZDogc3RyaW5nLFxuICAgICAgc3RhdGVfaWQ6IHN0cmluZ1xuICAgIH1cbiAgfTtcblxuICBwdWJsaWMgaXNTb2xpY2l0b3IoKTogYm9vbGVhbiB7XG4gICAgaWYgKGhhc1JvbGVzKHRoaXMpKSB7XG4gICAgICByZXR1cm4gdGhpcy51c2VyLmlkYW0ucm9sZXMuZmluZChyID0+IHIuZW5kc1dpdGgoJy1zb2xpY2l0b3InKSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGlzQ291cnRBZG1pbigpOiBib29sZWFuIHtcbiAgICBpZiAoaGFzUm9sZXModGhpcykpIHtcbiAgICAgIHJldHVybiB0aGlzLnVzZXIuaWRhbS5yb2xlcy5maW5kKHIgPT4gci5lbmRzV2l0aCgnLWNvdXJ0YWRtaW4nKSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXX0=