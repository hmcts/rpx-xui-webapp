nodejs:
  aadIdentityName: xui
  applicationPort: 3000
  memoryLimits: 1024Mi
  cpuLimits: 1000m
  environment:
    REFORM_TEAM: rpx
    REFORM_SERVICE_NAME: xui-webapp
    NODE_ENV: production
    NODE_CONFIG_ENV: production
    UV_THREADPOOL_SIZE: 64
    APPINSIGHTS_INSTRUMENTATIONKEY: ${APPINSIGHTS_INSTRUMENTATIONKEY}
    XUI_ENV: preview
    LOGGING: debug
    MAX_LOG_LINE: 80
    PROTOCOL: https
    MICROSERVICE: xui_webapp
    SESSION_SECRET: secretSauce
    ALLOW_CONFIG_MUTATIONS: 1
    SECURE_COOKIE: true
    MC_HTTP_PROXY: http://172.16.0.7:8080
    MC_NO_PROXY: localhost
    NOW: false
    {{ if eq .Values.global.environment "preview" }}
    SERVICES_IDAM_API_URL: https://idam-api-aks.{{ .Values.global.environment }}.platform.hmcts.net
    {{ else }}
    SERVICES_IDAM_API_URL: https://idam-api.{{ .Values.global.environment }}.platform.hmcts.net
    {{- end }}
    FEATURE_APP_INSIGHTS_ENABLED: true
    FEATURE_SECURE_COOKIE_ENABLED: true
    FEATURE_PROXY_ENABLED: false
    FEATURE_TERMS_AND_CONDITIONS_ENABLED: true
  keyVaults:
    rpx:
      resourceGroup: rpx
      secrets:
        - mc-s2s-client-secret
        - mc-idam-client-secret
        - AppInsightsInstrumentationKey
  # Don't modify below here
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_FQDN}
