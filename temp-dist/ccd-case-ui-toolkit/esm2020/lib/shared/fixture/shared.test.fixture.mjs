import { ComplexFieldOverride } from '../components/case-editor/domain/wizard-page-field-complex-override.model';
import { WizardPageField } from '../components/case-editor/domain/wizard-page-field.model';
import { WizardPage } from '../components/case-editor/domain/wizard-page.model';
import { CaseEventTrigger } from '../domain/case-view/case-event-trigger.model';
import { CaseFieldBuilder } from './case-field-builder';
export const textFieldType = () => {
    return {
        id: 'Text',
        type: 'Text',
        complex_fields: []
    };
};
export const createCaseEventTrigger = (id, name, caseId, showSummary, caseFields, wizardPages = [], canSaveDraft = false) => {
    const eventTrigger = new CaseEventTrigger();
    eventTrigger.id = id;
    eventTrigger.name = name;
    eventTrigger.case_id = caseId;
    eventTrigger.show_summary = showSummary;
    eventTrigger.wizard_pages = wizardPages;
    eventTrigger.event_token = 'test-token';
    eventTrigger.case_fields = caseFields;
    eventTrigger.can_save_draft = canSaveDraft;
    return eventTrigger;
};
export const aCaseField = (id, label, type, displayContext, showSummaryContentOption, typeComplexFields = [], retainHiddenValue, hidden) => {
    return ({
        id: id || 'personFirstName',
        field_type: {
            id: type.toString() || 'Text',
            type: type || 'Text',
            complex_fields: typeComplexFields || []
        },
        display_context: displayContext || 'OPTIONAL',
        label: label || 'First name',
        show_summary_content_option: showSummaryContentOption,
        retain_hidden_value: retainHiddenValue || false,
        hidden: hidden || false
    });
};
export const createWizardPage = (id, label, order, wizardPageFields = [], caseFields = [], showCondition, parsedShowCondition = null) => {
    const wizardPage = new WizardPage();
    wizardPage.id = id;
    wizardPage.label = label;
    wizardPage.order = order;
    wizardPage.wizard_page_fields = wizardPageFields;
    wizardPage.case_fields = caseFields;
    wizardPage.show_condition = showCondition;
    wizardPage.parsedShowCondition = parsedShowCondition;
    return wizardPage;
};
export const createWizardPageField = (id, order, pageColumnNumber, complexFieldOverrides = []) => {
    const wizardPageField = new WizardPageField();
    wizardPageField.case_field_id = id;
    wizardPageField.order = order;
    wizardPageField.page_column_no = pageColumnNumber;
    wizardPageField.complex_field_overrides = complexFieldOverrides;
    return wizardPageField;
};
export const createComplexFieldOverride = (id, order, displayContext, label, hint, showCondition) => {
    const complexFieldOverride = new ComplexFieldOverride();
    complexFieldOverride.complex_field_element_id = id;
    complexFieldOverride.display_context = displayContext;
    complexFieldOverride.label = label;
    complexFieldOverride.hint_text = hint;
    complexFieldOverride.show_condition = showCondition;
    return complexFieldOverride;
};
export const createHiddenComplexFieldOverride = (id) => {
    const complexFieldOverride = new ComplexFieldOverride();
    complexFieldOverride.complex_field_element_id = id;
    complexFieldOverride.display_context = 'HIDDEN';
    return complexFieldOverride;
};
export const createCaseField = (id, label, hint, fieldType, displayContext, order = undefined, showCondition = undefined, acls = undefined, hidden) => {
    return CaseFieldBuilder.create()
        .withId(id || 'personFirstName')
        .withFieldType(fieldType || textFieldType())
        .withDisplayContext(displayContext || 'OPTIONAL')
        .withLabel(label || 'First name')
        .withHintText(hint || 'First name hint text')
        .withShowSummaryContentOption(0)
        .withOrder(order)
        .withShowCondition(showCondition || undefined)
        .withACLs(acls)
        .withHidden(hidden || false)
        .build();
};
export const newCaseField = (id, label, hint, fieldType, displayContext, order = undefined) => {
    return CaseFieldBuilder.create()
        .withId(id || 'personFirstName')
        .withFieldType(fieldType || textFieldType())
        .withDisplayContext(displayContext || 'OPTIONAL')
        .withHintText(hint || 'First name hint text')
        .withLabel(label || 'First name')
        .withOrder(order)
        .withShowSummaryContentOption(0);
};
export const createFieldType = (typeId, type, complexFields = [], collectionFieldType = undefined) => {
    return {
        id: typeId || 'Text',
        type: type || 'Text',
        complex_fields: complexFields || [],
        collection_field_type: collectionFieldType || undefined
    };
};
export const createFixedListFieldType = (typeId, fixedListItems = []) => {
    return {
        id: `FixedList-${typeId}`,
        type: 'FixedList',
        fixed_list_items: fixedListItems || []
    };
};
export const createMultiSelectListFieldType = (typeId, fixedListItems = []) => {
    return {
        id: `MultiSelectList-${typeId}`,
        type: 'MultiSelectList',
        fixed_list_items: fixedListItems || []
    };
};
export const createACL = (role, aclCreate, aclRead, aclUpdate, aclDelete) => {
    return ({
        role: role || 'roleX',
        create: aclCreate,
        read: aclRead,
        update: aclUpdate,
        delete: aclDelete
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLnRlc3QuZml4dHVyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NjZC1jYXNlLXVpLXRvb2xraXQvc3JjL2xpYi9zaGFyZWQvZml4dHVyZS9zaGFyZWQudGVzdC5maXh0dXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDJFQUEyRSxDQUFDO0FBQ2pILE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwREFBMEQsQ0FBQztBQUMzRixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFFaEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sOENBQThDLENBQUM7QUFNaEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLEdBQWMsRUFBRTtJQUMzQyxPQUFPO1FBQ0wsRUFBRSxFQUFFLE1BQU07UUFDVixJQUFJLEVBQUUsTUFBTTtRQUNaLGNBQWMsRUFBRSxFQUFFO0tBQ25CLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEVBQVUsRUFDVixJQUFZLEVBQ1osTUFBYyxFQUNkLFdBQW9CLEVBQ3BCLFVBQXVCLEVBQ3ZCLFdBQVcsR0FBRyxFQUFFLEVBQ2hCLFlBQVksR0FBRyxLQUFLLEVBQW9CLEVBQUU7SUFDL0UsTUFBTSxZQUFZLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO0lBRTVDLFlBQVksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLFlBQVksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQzlCLFlBQVksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO0lBQ3hDLFlBQVksQ0FBQyxZQUFZLEdBQUcs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QUU7UUFDL0IsSUFBSSxFQUFFLGlCQUFpQjtRQUN2QixnQkFBZ0IsRUFBRSxjQUFjLElBQUksRUFBRTtLQUN2QyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsSUFBWSxFQUNaLFNBQWtCLEVBQ2xCLE9BQWdCLEVBQ2hCLFNBQWtCLEVBQ2xCLFNBQWtCLEVBQXFCLEVBQUU7SUFDakUsT0FBTyxDQUFDO1FBQ04sSUFBSSxFQUFFLElBQUksSUFBSSxPQUFPO1FBQ3JCLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLElBQUksRUFBRSxPQUFPO1FBQ2IsTUFBTSxFQUFFLFNBQVM7UUFDakIsTUFBTSxFQUFFLFNBQVM7S0FDbEIsQ0FBc0IsQ0FBQztBQUMxQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wbGV4RmllbGRPdmVycmlkZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FzZS1lZGl0b3IvZG9tYWluL3dpemFyZC1wYWdlLWZpZWxkLWNvbXBsZXgtb3ZlcnJpZGUubW9kZWwnO1xuaW1wb3J0IHsgV2l6YXJkUGFnZUZpZWxkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jYXNlLWVkaXRvci9kb21haW4vd2l6YXJkLXBhZ2UtZmllbGQubW9kZWwnO1xuaW1wb3J0IHsgV2l6YXJkUGFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FzZS1lZGl0b3IvZG9tYWluL3dpemFyZC1wYWdlLm1vZGVsJztcbmltcG9ydCB7IFNob3dDb25kaXRpb24gfSBmcm9tICcuLi9kaXJlY3RpdmVzL2NvbmRpdGlvbmFsLXNob3cvZG9tYWluL2NvbmRpdGlvbmFsLXNob3cubW9kZWwnO1xuaW1wb3J0IHsgQ2FzZUV2ZW50VHJpZ2dlciB9IGZyb20gJy4uL2RvbWFpbi9jYXNlLXZpZXcvY2FzZS1ldmVudC10cmlnZ2VyLm1vZGVsJztcbmltcG9ydCB7IEFjY2Vzc0NvbnRyb2xMaXN0IH0gZnJvbSAnLi4vZG9tYWluL2RlZmluaXRpb24vYWNjZXNzLWNvbnRyb2wtbGlzdC5tb2RlbCc7XG5pbXBvcnQgeyBDYXNlRmllbGQgfSBmcm9tICcuLi9kb21haW4vZGVmaW5pdGlvbi9jYXNlLWZpZWxkLm1vZGVsJztcbmltcG9ydCB7IEZpZWxkVHlwZUVudW0gfSBmcm9tICcuLi9kb21haW4vZGVmaW5pdGlvbi9maWVsZC10eXBlLWVudW0ubW9kZWwnO1xuaW1wb3J0IHsgRmllbGRUeXBlIH0gZnJvbSAnLi4vZG9tYWluL2RlZmluaXRpb24vZmllbGQtdHlwZS5tb2RlbCc7XG5pbXBvcnQgeyBGaXhlZExpc3RJdGVtIH0gZnJvbSAnLi4vZG9tYWluL2RlZmluaXRpb24vZml4ZWQtbGlzdC1pdGVtLm1vZGVsJztcbmltcG9ydCB7IENhc2VGaWVsZEJ1aWxkZXIgfSBmcm9tICcuL2Nhc2UtZmllbGQtYnVpbGRlcic7XG5cbmV4cG9ydCBjb25zdCB0ZXh0RmllbGRUeXBlID0gKCk6IEZpZWxkVHlwZSA9PiB7XG4gIHJldHVybiB7XG4gICAgaWQ6ICdUZXh0JyxcbiAgICB0eXBlOiAnVGV4dCcsXG4gICAgY29tcGxleF9maWVsZHM6IFtdXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2FzZUV2ZW50VHJpZ2dlciA9IChpZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZUlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U3VtbWFyeTogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2VGaWVsZHM6IENhc2VGaWVsZFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l6YXJkUGFnZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblNhdmVEcmFmdCA9IGZhbHNlKTogQ2FzZUV2ZW50VHJpZ2dlciA9PiB7XG4gIGNvbnN0IGV2ZW50VHJpZ2dlciA9IG5ldyBDYXNlRXZlbnRUcmlnZ2VyKCk7XG5cbiAgZXZlbnRUcmlnZ2VyLmlkID0gaWQ7XG4gIGV2ZW50VHJpZ2dlci5uYW1lID0gbmFtZTtcbiAgZXZlbnRUcmlnZ2VyLmNhc2VfaWQgPSBjYXNlSWQ7XG4gIGV2ZW50VHJpZ2dlci5zaG93X3N1bW1hcnkgPSBzaG93U3VtbWFyeTtcbiAgZXZlbnRUcmlnZ2VyLndpemFyZF9wYWdlcyA9IHdpemFyZFBhZ2VzO1xuICBldmVudFRyaWdnZXIuZXZlbnRfdG9rZW4gPSAndGVzdC10b2tlbic7XG4gIGV2ZW50VHJpZ2dlci5jYXNlX2ZpZWxkcyA9IGNhc2VGaWVsZHM7XG4gIGV2ZW50VHJpZ2dlci5jYW5fc2F2ZV9kcmFmdCA9IGNhblNhdmVEcmFmdDtcbiAgcmV0dXJuIGV2ZW50VHJpZ2dlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBhQ2FzZUZpZWxkID0gKGlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlRW51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlDb250ZXh0OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUNvbnRlbnRPcHRpb246IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDb21wbGV4RmllbGRzOiBDYXNlRmllbGRbXSA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0YWluSGlkZGVuVmFsdWU/OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPzogYm9vbGVhbik6IENhc2VGaWVsZCA9PiB7XG4gIHJldHVybiAoe1xuICAgIGlkOiBpZCB8fCAncGVyc29uRmlyc3ROYW1lJyxcbiAgICBmaWVsZF90eXBlOiB7XG4gICAgICBpZDogdHlwZS50b1N0cmluZygpIHx8ICdUZXh0JyxcbiAgICAgIHR5cGU6IHR5cGUgfHwgJ1RleHQnLFxuICAgICAgY29tcGxleF9maWVsZHM6IHR5cGVDb21wbGV4RmllbGRzIHx8IFtdXG4gICAgfSxcbiAgICBkaXNwbGF5X2NvbnRleHQ6IGRpc3BsYXlDb250ZXh0IHx8ICdPUFRJT05BTCcsXG4gICAgbGFiZWw6IGxhYmVsIHx8ICdGaXJzdCBuYW1lJyxcbiAgICBzaG93X3N1bW1hcnlfY29udGVudF9vcHRpb246IHNob3dTdW1tYXJ5Q29udGVudE9wdGlvbixcbiAgICByZXRhaW5faGlkZGVuX3ZhbHVlOiByZXRhaW5IaWRkZW5WYWx1ZSB8fCBmYWxzZSxcbiAgICBoaWRkZW46IGhpZGRlbiB8fCBmYWxzZVxuICB9KSBhcyBDYXNlRmllbGQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlV2l6YXJkUGFnZSA9IChpZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXphcmRQYWdlRmllbGRzOiBXaXphcmRQYWdlRmllbGRbXSA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZUZpZWxkczogQ2FzZUZpZWxkW10gPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25kaXRpb246IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFNob3dDb25kaXRpb246IFNob3dDb25kaXRpb24gPSBudWxsKTogV2l6YXJkUGFnZSA9PiB7XG4gIGNvbnN0IHdpemFyZFBhZ2UgPSBuZXcgV2l6YXJkUGFnZSgpO1xuICB3aXphcmRQYWdlLmlkID0gaWQ7XG4gIHdpemFyZFBhZ2UubGFiZWwgPSBsYWJlbDtcbiAgd2l6YXJkUGFnZS5vcmRlciA9IG9yZGVyO1xuICB3aXphcmRQYWdlLndpemFyZF9wYWdlX2ZpZWxkcyA9IHdpemFyZFBhZ2VGaWVsZHM7XG4gIHdpemFyZFBhZ2UuY2FzZV9maWVsZHMgPSBjYXNlRmllbGRzO1xuICB3aXphcmRQYWdlLnNob3dfY29uZGl0aW9uID0gc2hvd0NvbmRpdGlvbjtcbiAgd2l6YXJkUGFnZS5wYXJzZWRTaG93Q29uZGl0aW9uID0gcGFyc2VkU2hvd0NvbmRpdGlvbjtcbiAgcmV0dXJuIHdpemFyZFBhZ2U7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlV2l6YXJkUGFnZUZpZWxkID0gKGlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VDb2x1bW5OdW1iZXI6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxleEZpZWxkT3ZlcnJpZGVzOiBDb21wbGV4RmllbGRPdmVycmlkZVtdID0gW10pOiBXaXphcmRQYWdlRmllbGQgPT4ge1xuICBjb25zdCB3aXphcmRQYWdlRmllbGQgPSBuZXcgV2l6YXJkUGFnZUZpZWxkKCk7XG4gIHdpemFyZFBhZ2VGaWVsZC5jYXNlX2ZpZWxkX2lkID0gaWQ7XG4gIHdpemFyZFBhZ2VGaWVsZC5vcmRlciA9IG9yZGVyO1xuICB3aXphcmRQYWdlRmllbGQucGFnZV9jb2x1bW5fbm8gPSBwYWdlQ29sdW1uTnVtYmVyO1xuICB3aXphcmRQYWdlRmllbGQuY29tcGxleF9maWVsZF9vdmVycmlkZXMgPSBjb21wbGV4RmllbGRPdmVycmlkZXM7XG4gIHJldHVybiB3aXphcmRQYWdlRmllbGQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29tcGxleEZpZWxkT3ZlcnJpZGUgPSAoaWQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlDb250ZXh0OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmRpdGlvbjogc3RyaW5nKTogQ29tcGxleEZpZWxkT3ZlcnJpZGUgPT4ge1xuICBjb25zdCBjb21wbGV4RmllbGRPdmVycmlkZSA9IG5ldyBDb21wbGV4RmllbGRPdmVycmlkZSgpO1xuICBjb21wbGV4RmllbGRPdmVycmlkZS5jb21wbGV4X2ZpZWxkX2VsZW1lbnRfaWQgPSBpZDtcbiAgY29tcGxleEZpZWxkT3ZlcnJpZGUuZGlzcGxheV9jb250ZXh0ID0gZGlzcGxheUNvbnRleHQ7XG4gIGNvbXBsZXhGaWVsZE92ZXJyaWRlLmxhYmVsID0gbGFiZWw7XG4gIGNvbXBsZXhGaWVsZE92ZXJyaWRlLmhpbnRfdGV4dCA9IGhpbnQ7XG4gIGNvbXBsZXhGaWVsZE92ZXJyaWRlLnNob3dfY29uZGl0aW9uID0gc2hvd0NvbmRpdGlvbjtcbiAgcmV0dXJuIGNvbXBsZXhGaWVsZE92ZXJyaWRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhpZGRlbkNvbXBsZXhGaWVsZE92ZXJyaWRlID0gKGlkOiBzdHJpbmcpOiBDb21wbGV4RmllbGRPdmVycmlkZSA9PiB7XG4gIGNvbnN0IGNvbXBsZXhGaWVsZE92ZXJyaWRlID0gbmV3IENvbXBsZXhGaWVsZE92ZXJyaWRlKCk7XG4gIGNvbXBsZXhGaWVsZE92ZXJyaWRlLmNvbXBsZXhfZmllbGRfZWxlbWVudF9pZCA9IGlkO1xuICBjb21wbGV4RmllbGRPdmVycmlkZS5kaXNwbGF5X2NvbnRleHQgPSAnSElEREVOJztcbiAgcmV0dXJuIGNvbXBsZXhGaWVsZE92ZXJyaWRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhc2VGaWVsZCA9IChpZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogRmllbGRUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Q29udGV4dDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlciA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmRpdGlvbiA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNsczogQWNjZXNzQ29udHJvbExpc3RbXSA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPzogYm9vbGVhbik6IENhc2VGaWVsZCA9PiB7XG4gIHJldHVybiBDYXNlRmllbGRCdWlsZGVyLmNyZWF0ZSgpXG4gICAgLndpdGhJZChpZCB8fCAncGVyc29uRmlyc3ROYW1lJylcbiAgICAud2l0aEZpZWxkVHlwZShmaWVsZFR5cGUgfHwgdGV4dEZpZWxkVHlwZSgpKVxuICAgIC53aXRoRGlzcGxheUNvbnRleHQoZGlzcGxheUNvbnRleHQgfHwgJ09QVElPTkFMJylcbiAgICAud2l0aExhYmVsKGxhYmVsIHx8ICdGaXJzdCBuYW1lJylcbiAgICAud2l0aEhpbnRUZXh0KGhpbnQgfHwgJ0ZpcnN0IG5hbWUgaGludCB0ZXh0JylcbiAgICAud2l0aFNob3dTdW1tYXJ5Q29udGVudE9wdGlvbigwKVxuICAgIC53aXRoT3JkZXIob3JkZXIpXG4gICAgLndpdGhTaG93Q29uZGl0aW9uKHNob3dDb25kaXRpb24gfHwgdW5kZWZpbmVkKVxuICAgIC53aXRoQUNMcyhhY2xzKVxuICAgIC53aXRoSGlkZGVuKGhpZGRlbiB8fCBmYWxzZSlcbiAgICAuYnVpbGQoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBuZXdDYXNlRmllbGQgPSAoaWQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IEZpZWxkVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUNvbnRleHQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSB1bmRlZmluZWQpOiBDYXNlRmllbGRCdWlsZGVyID0+IHtcbiAgcmV0dXJuIENhc2VGaWVsZEJ1aWxkZXIuY3JlYXRlKClcbiAgICAud2l0aElkKGlkIHx8ICdwZXJzb25GaXJzdE5hbWUnKVxuICAgIC53aXRoRmllbGRUeXBlKGZpZWxkVHlwZSB8fCB0ZXh0RmllbGRUeXBlKCkpXG4gICAgLndpdGhEaXNwbGF5Q29udGV4dChkaXNwbGF5Q29udGV4dCB8fCAnT1BUSU9OQUwnKVxuICAgIC53aXRoSGludFRleHQoaGludCB8fCAnRmlyc3QgbmFtZSBoaW50IHRleHQnKVxuICAgIC53aXRoTGFiZWwobGFiZWwgfHwgJ0ZpcnN0IG5hbWUnKVxuICAgIC53aXRoT3JkZXIob3JkZXIpXG4gICAgLndpdGhTaG93U3VtbWFyeUNvbnRlbnRPcHRpb24oMCk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRmllbGRUeXBlID0gKHR5cGVJZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBGaWVsZFR5cGVFbnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV4RmllbGRzOiBDYXNlRmllbGRbXSA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRmllbGRUeXBlOiBGaWVsZFR5cGUgPSB1bmRlZmluZWQpOiBGaWVsZFR5cGUgPT4ge1xuICByZXR1cm4ge1xuICAgIGlkOiB0eXBlSWQgfHwgJ1RleHQnLFxuICAgIHR5cGU6IHR5cGUgfHwgJ1RleHQnLFxuICAgIGNvbXBsZXhfZmllbGRzOiBjb21wbGV4RmllbGRzIHx8IFtdLFxuICAgIGNvbGxlY3Rpb25fZmllbGRfdHlwZTogY29sbGVjdGlvbkZpZWxkVHlwZSB8fCB1bmRlZmluZWRcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVGaXhlZExpc3RGaWVsZFR5cGUgPSAodHlwZUlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkTGlzdEl0ZW1zOiBGaXhlZExpc3RJdGVtW10gPSBbXSk6IEZpZWxkVHlwZSA9PiB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGBGaXhlZExpc3QtJHt0eXBlSWR9YCxcbiAgICB0eXBlOiAnRml4ZWRMaXN0JyxcbiAgICBmaXhlZF9saXN0X2l0ZW1zOiBmaXhlZExpc3RJdGVtcyB8fCBbXVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU11bHRpU2VsZWN0TGlzdEZpZWxkVHlwZSA9ICh0eXBlSWQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRMaXN0SXRlbXM6IEZpeGVkTGlzdEl0ZW1bXSA9IFtdKTogRmllbGRUeXBlID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpZDogYE11bHRpU2VsZWN0TGlzdC0ke3R5cGVJZH1gLFxuICAgIHR5cGU6ICdNdWx0aVNlbGVjdExpc3QnLFxuICAgIGZpeGVkX2xpc3RfaXRlbXM6IGZpeGVkTGlzdEl0ZW1zIHx8IFtdXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQUNMID0gKHJvbGU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNsQ3JlYXRlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2xSZWFkOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2xVcGRhdGU6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjbERlbGV0ZTogYm9vbGVhbik6IEFjY2Vzc0NvbnRyb2xMaXN0ID0+IHtcbiAgcmV0dXJuICh7XG4gICAgcm9sZTogcm9sZSB8fCAncm9sZVgnLFxuICAgIGNyZWF0ZTogYWNsQ3JlYXRlLFxuICAgIHJlYWQ6IGFjbFJlYWQsXG4gICAgdXBkYXRlOiBhY2xVcGRhdGUsXG4gICAgZGVsZXRlOiBhY2xEZWxldGVcbiAgfSkgYXMgQWNjZXNzQ29udHJvbExpc3Q7XG59O1xuIl19