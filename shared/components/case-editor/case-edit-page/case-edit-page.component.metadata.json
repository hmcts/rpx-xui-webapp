[{"__symbolic":"module","version":4,"metadata":{"CaseEditPageComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":21,"character":1},"arguments":[{"selector":"ccd-case-edit-page","template":"\n    <ng-container *ngIf=\"currentPage\">\n      <h1 *ngIf=\"!currentPage.label\" class=\"govuk-heading-l\">{{eventTrigger.name}}</h1>\n      <ng-container *ngIf=\"currentPage.label\">\n        <span class=\"govuk-caption-l\">{{ eventTrigger.name}}</span>\n        <h1 class=\"govuk-heading-l\">{{currentPage.label}}</h1>\n      </ng-container>\n    </ng-container>\n\n    <!--Case ID or Title -->\n    <div *ngIf=\"getCaseTitle(); then titleBlock; else idBlock\"></div>\n    <ng-template #titleBlock>\n      <h2 class=\"heading-h2\" [innerHTML]=\"getCaseTitle() | ccdCaseTitle: caseFields : editForm.controls['data']\"></h2>\n    </ng-template>\n    <ng-template #idBlock>\n      <h2 *ngIf=\"getCaseId()\" class=\"heading-h2\">#{{ getCaseId() | ccdCaseReference }}</h2>\n    </ng-template>\n\n    <!-- Error message summary -->\n    <div *ngIf=\"validationErrors.length > 0\" class=\"govuk-error-summary\" aria-labelledby=\"error-summary-title\" role=\"alert\" tabindex=\"-1\" data-module=\"govuk-error-summary\">\n      <h2 class=\"govuk-error-summary__title\" id=\"error-summary-title\">\n        There is a problem\n      </h2>\n      <div *ngFor=\"let validationError of validationErrors\" class=\"govuk-error-summary__body\">\n        <ul class=\"govuk-list govuk-error-summary__list\">\n          <li>\n            <a (click)=\"navigateToErrorElement(validationError.id)\" class=\"validation-error\">{{validationError.message}}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Generic error heading and error message to be displayed only if there are no specific callback errors or warnings, or no error details -->\n    <div *ngIf=\"error && !(error.callbackErrors || error.callbackWarnings || error.details)\" class=\"error-summary\"\n         role=\"status\" aria-labelledby=\"edit-case-event_error-summary-heading\" tabindex=\"-1\">\n\n      <h1 class=\"heading-h1 error-summary-heading\" id=\"edit-case-event_error-summary-heading\">\n        Something went wrong\n      </h1>\n      <div class=\"govuk-error-summary__body\" id=\"edit-case-event_error-summary-body\">\n        <p>We're working to fix the problem. Try again shortly.</p>\n        <p><a href=\"get-help\" target=\"_blank\">Contact us</a> if you're still having problems.</p>\n      </div>\n    </div>\n    <!-- Event error heading and error message to be displayed if there are specific error details -->\n    <div *ngIf=\"error && error.details\" class=\"error-summary\" role=\"status\"\n         aria-labelledby=\"edit-case-event_error-summary-heading\" tabindex=\"-1\">\n      <h3 class=\"heading-h3 error-summary-heading\" id=\"edit-case-event_error-summary-heading-3\">\n        The event could not be created\n      </h3>\n      <p>{{error.message}}</p>\n      <ul *ngIf=\"error.details?.field_errors\" class=\"error-summary-list\">\n        <li *ngFor=\"let fieldError of error.details.field_errors\" class=\"ccd-error-summary-li\">{{fieldError.message}}</li>\n      </ul>\n    </div>\n    <ccd-callback-errors\n      [triggerTextContinue]=\"triggerTextStart\"\n      [triggerTextIgnore]=\"triggerTextIgnoreWarnings\"\n      [callbackErrorsSubject]=\"callbackErrorsSubject\"\n      (callbackErrorsContext)=\"callbackErrorsNotify($event)\">\n    </ccd-callback-errors>\n    <div class=\"width-50\">\n      <form *ngIf=\"currentPage\" class=\"form\" [formGroup]=\"editForm\" (submit)=\"submit()\">\n        <fieldset id=\"fieldset-case-data\">\n          <!-- single column -->\n          <ccd-case-edit-form id='caseEditForm' *ngIf=\"!currentPage.isMultiColumn()\" [fields]=\"currentPage.getCol1Fields()\"\n                              [formGroup]=\"editForm.controls['data']\" [caseFields]=\"caseFields\"\n                              [pageChangeSubject]=\"pageChangeSubject\"\n                              (valuesChanged)=\"applyValuesChanged($event)\"></ccd-case-edit-form>\n          <!-- two columns -->\n          <div *ngIf=\"currentPage.isMultiColumn()\" class=\"grid-row\">\n            <div class=\"column-two-thirds rightBorderSeparator\">\n              <ccd-case-edit-form id='caseEditForm1' [fields]=\"currentPage.getCol1Fields()\"\n                                  [formGroup]=\"editForm.controls['data']\" [caseFields]=\"caseFields\"></ccd-case-edit-form>\n            </div>\n            <div class=\"column-one-third\">\n              <ccd-case-edit-form id='caseEditForm2' [fields]=\"currentPage.getCol2Fields()\"\n                                  [formGroup]=\"editForm.controls['data']\" [caseFields]=\"caseFields\"></ccd-case-edit-form>\n            </div>\n          </div>\n        </fieldset>\n\n        <div class=\"form-group form-group-related\">\n          <button class=\"button button-secondary\" type=\"button\" [disabled]=\"!(hasPreviousPage$ | async)\" (click)=\"toPreviousPage()\">\n            Previous\n          </button>\n          <button class=\"button\" type=\"submit\" [disabled]=\"submitting()\">{{triggerText}}</button>\n        </div>\n\n        <p class=\"cancel\"><a (click)=\"cancel()\" href=\"javascript:void(0)\">{{getCancelText()}}</a></p>\n\n      </form>\n    </div>\n  ","styles":["\n    .rightBorderSeparator{border-right-width:4px;border-right-color:#ffcc02;border-right-style:solid}.validation-error{cursor:pointer;text-decoration:underline;color:#d4351c}\n  "]}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"../case-edit/case-edit.component","name":"CaseEditComponent","line":162,"character":31},{"__symbolic":"reference","module":"@angular/router","name":"ActivatedRoute","line":163,"character":28},{"__symbolic":"reference","module":"../../../services/form/form-value.service","name":"FormValueService","line":164,"character":39},{"__symbolic":"reference","module":"../../../services/form/form-error.service","name":"FormErrorService","line":165,"character":39},{"__symbolic":"reference","module":"@angular/core","name":"ChangeDetectorRef","line":166,"character":28},{"__symbolic":"reference","module":"../services/page-validation.service","name":"PageValidationService","line":167,"character":44},{"__symbolic":"reference","module":"@angular/material","name":"MatDialog","line":168,"character":29},{"__symbolic":"reference","module":"../../../services/case-fields/case-field.service","name":"CaseFieldService","line":169,"character":39}]}],"ngOnInit":[{"__symbolic":"method"}],"ngAfterViewChecked":[{"__symbolic":"method"}],"applyValuesChanged":[{"__symbolic":"method"}],"first":[{"__symbolic":"method"}],"currentPageIsNotValid":[{"__symbolic":"method"}],"toPreviousPage":[{"__symbolic":"method"}],"generateErrorMessage":[{"__symbolic":"method"}],"navigateToErrorElement":[{"__symbolic":"method"}],"submit":[{"__symbolic":"method"}],"updateFormData":[{"__symbolic":"method"}],"pageWithFieldExists":[{"__symbolic":"method"}],"updateEventTriggerCaseFields":[{"__symbolic":"method"}],"updateFormControlsValue":[{"__symbolic":"method"}],"callbackErrorsNotify":[{"__symbolic":"method"}],"next":[{"__symbolic":"method"}],"previous":[{"__symbolic":"method"}],"hasPrevious":[{"__symbolic":"method"}],"cancel":[{"__symbolic":"method"}],"submitting":[{"__symbolic":"method"}],"getCaseId":[{"__symbolic":"method"}],"getCaseTitle":[{"__symbolic":"method"}],"getCancelText":[{"__symbolic":"method"}],"getTriggerText":[{"__symbolic":"method"}],"initDialog":[{"__symbolic":"method"}],"discard":[{"__symbolic":"method"}],"handleError":[{"__symbolic":"method"}],"resetErrors":[{"__symbolic":"method"}],"saveDraft":[{"__symbolic":"method"}],"getCaseFields":[{"__symbolic":"method"}],"getCaseFieldsFromCurrentAndPreviousPages":[{"__symbolic":"method"}],"buildCaseEventData":[{"__symbolic":"method"}],"getFilteredCaseEventData":[{"__symbolic":"method"}]},"statics":{"RESUMED_FORM_DISCARD":"RESUMED_FORM_DISCARD","NEW_FORM_DISCARD":"NEW_FORM_DISCARD","NEW_FORM_SAVE":"NEW_FORM_CHANGED_SAVE","RESUMED_FORM_SAVE":"RESUMED_FORM_SAVE","TRIGGER_TEXT_START":"Continue","TRIGGER_TEXT_SAVE":"Save and continue","TRIGGER_TEXT_CONTINUE":"Ignore Warning and Continue"}}}}]