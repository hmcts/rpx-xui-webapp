<?xml version='1.0'?>
<ns2:test-suite xmlns:ns2='urn:model.allure.qatools.yandex.ru' start='1676029955316' stop='1676030111242'>
    <name>FR create case workflow @codecept</name>
    <title>FR create case workflow @codecept</title>
    <test-cases>
        <test-case start='1676029955766' status='failed' stop='1676030111215'>
            <name>Start FR Case creation {"Jurisdiction":"Family Divorce","CaseType":"Financial Remedy Consented","Event":"Consent Order Application"}</name>
            <title>Start FR Case creation {"Jurisdiction":"Family Divorce","CaseType":"Financial Remedy Consented","Event":"Consent Order Application"}</title>
            <labels/>
            <parameters/>
            <steps>
                <step start='1676029956339' status='passed' stop='1676029977331'>
                    <name>When I navigate to Expert UI Url </name>
                    <title>When I navigate to Expert UI Url </title>
                    <attachments/>
                    <steps>
                        <step start='1676029956339' status='passed' stop='1676029974273'>
                            <name>I am on page "https://manage-case.aat.platform.hmcts.net"</name>
                            <title>I am on page "https://manage-case.aat.platform.hmcts.net"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029974274' status='passed' stop='1676029977296'>
                            <name>I wait for element {"xpath":"//*[@id=\"authorizeCommand\"]/h1"}, 60</name>
                            <title>I wait for element {"xpath":"//*[@id=\"authorizeCommand\"]/h1"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977297' status='passed' stop='1676029977314'>
                            <name>I see element {"css":"input.button"}</name>
                            <title>I see element {"css":"input.button"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1676029977331' status='passed' stop='1676030003181'>
                    <name>Given I am logged into Expert UI with valid user details </name>
                    <title>Given I am logged into Expert UI with valid user details </title>
                    <attachments/>
                    <steps>
                        <step start='1676029977332' status='passed' stop='1676029977342'>
                            <name>I wait for element {"xpath":"//*[@id=\"authorizeCommand\"]/h1"}, 60</name>
                            <title>I wait for element {"xpath":"//*[@id=\"authorizeCommand\"]/h1"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977343' status='passed' stop='1676029977354'>
                            <name>I wait for element {"css":"[id='username']"}, 60</name>
                            <title>I wait for element {"css":"[id='username']"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977356' status='passed' stop='1676029977361'>
                            <name>I execute script () => {
                                        return window.document.location.href 
                                    }</name>
                            <title>I execute script () => {
                                        return window.document.location.href 
                                    }</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977364' status='passed' stop='1676029977374'>
                            <name>I wait for element {"css":"[id='username']"}, 60</name>
                            <title>I wait for element {"css":"[id='username']"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977376' status='passed' stop='1676029977919'>
                            <name>I clear field {"css":"[id='username']"}</name>
                            <title>I clear field {"css":"[id='username']"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029977921' status='passed' stop='1676029978901'>
                            <name>I fill field {"css":"[id='username']"}, "lukesuperuserxui@mailnesia.com"</name>
                            <title>I fill field {"css":"[id='username']"}, "lukesuperuserxui@mailnesia.com"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029978902' status='passed' stop='1676029978916'>
                            <name>I wait for element {"css":"[id='password']"}, 60</name>
                            <title>I wait for element {"css":"[id='password']"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029978917' status='passed' stop='1676029979461'>
                            <name>I clear field {"css":"[id='password']"}</name>
                            <title>I clear field {"css":"[id='password']"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029979462' status='passed' stop='1676029980115'>
                            <name>I fill field {"css":"[id='password']"}, "Monday01"</name>
                            <title>I fill field {"css":"[id='password']"}, "Monday01"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029980115' status='passed' stop='1676029983633'>
                            <name>I click {"css":"input.button"}</name>
                            <title>I click {"css":"input.button"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676029983645' status='passed' stop='1676030003180'>
                            <name>I wait for element "exui-app-header", 60</name>
                            <title>I wait for element "exui-app-header", 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1676030003181' status='passed' stop='1676030003722'>
                    <name>Then I should be redirected to EUI dashboard page </name>
                    <title>Then I should be redirected to EUI dashboard page </title>
                    <attachments/>
                    <steps>
                        <step start='1676030003181' status='passed' stop='1676030003194'>
                            <name>I wait for element "exui-header .hmcts-primary-navigation__item", 60</name>
                            <title>I wait for element "exui-header .hmcts-primary-navigation__item", 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030003195' status='passed' stop='1676030003210'>
                            <name>I see element {"css":".govuk-heading-xl"}</name>
                            <title>I see element {"css":".govuk-heading-xl"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1676030003722' status='failed' stop='1676030111215'>
                    <name>When I click on primary navigation header tab "Create case", I see selected tab page displayed </name>
                    <title>When I click on primary navigation header tab "Create case", I see selected tab page displayed </title>
                    <attachments/>
                    <steps>
                        <step start='1676030003722' status='passed' stop='1676030003729'>
                            <name>I grab text from all "div.spinner-container"</name>
                            <title>I grab text from all "div.spinner-container"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030003731' status='passed' stop='1676030003742'>
                            <name>I wait for element {"xpath":"//exui-hmcts-global-header//a[contains(@class,'hmcts-primary-navigation__link') and contains(text(),'Create case')]"}, 60</name>
                            <title>I wait for element {"xpath":"//exui-hmcts-global-header//a[contains(@class,'hmcts-primary-navigation__link') and contains(text(),'Create case')]"}, 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030003743' status='passed' stop='1676030004309'>
                            <name>I click {"xpath":"//exui-hmcts-global-header//a[contains(@class,'hmcts-primary-navigation__link') and contains(text(),'Create case')]"}</name>
                            <title>I click {"xpath":"//exui-hmcts-global-header//a[contains(@class,'hmcts-primary-navigation__link') and contains(text(),'Create case')]"}</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030009314' status='passed' stop='1676030014039'>
                            <name>I wait for element "exui-filter-case ccd-create-case-filters", 60</name>
                            <title>I wait for element "exui-filter-case ccd-create-case-filters", 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030014040' status='passed' stop='1676030014114'>
                            <name>I grab number of visible elements "#cc-jurisdiction option"</name>
                            <title>I grab number of visible elements "#cc-jurisdiction option"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030052466' status='passed' stop='1676030052473'>
                            <name>I execute script () => {
                                        return window.document.location.href 
                                    }</name>
                            <title>I execute script () => {
                                        return window.document.location.href 
                                    }</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1676030059475' status='failed' stop='1676030111203'>
                            <name>I wait for element "exui-filter-case ccd-create-case-filters", 60</name>
                            <title>I wait for element "exui-filter-case ccd-create-case-filters", 60</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
            </steps>
            <attachments/>
            <failure>
                <message>element (exui-filter-case ccd-create-case-filters) still not present on page after 60 sec
                page.waitForSelector: Target closed
                =========================== logs ===========================
                waiting for locator('exui-filter-case ccd-create-case-filters')
                ============================================================</message>
                <stack-trace>Error: element (exui-filter-case ccd-create-case-filters) still not present on page after 60 sec
                page.waitForSelector: Target closed
                =========================== logs ===========================
                waiting for locator('exui-filter-case ccd-create-case-filters')
                ============================================================
                    at /Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/node_modules/codeceptjs/lib/helper/Playwright.js:2229:13
                    at Element.count (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/codeceptCommon/elements.js:80:16)
                    at CreateCaseStartPage.getLoadedJurisdictionsCount (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/pageObjects/createCaseStartPage.js:122:12)
                    at /Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/pageObjects/headerPage.js:354:38
                    at BrowserWaits.retryWithActionCallback (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/support/customWaits.js:169:32)
                    at HeaderPage.isPrimaryTabPageDisplayed (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/pageObjects/headerPage.js:353:21)
                    at /Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/step_definitions/navigationHeader.steps.js:60:28
                    at BrowserWaits.retryWithActionCallback (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/support/customWaits.js:169:32)
                    at /Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/step_definitions/navigationHeader.steps.js:58:17
                    at BrowserWaits.retryWithActionCallback (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/support/customWaits.js:169:32)
                    at /Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/test/e2e/features/step_definitions/navigationHeader.steps.js:55:9
                    at runSteps (/Users/sreekanth/work/moj/ex-ui/rpx-xui-webapp/node_modules/codeceptjs/lib/interfaces/gherkin.js:62:9)</stack-trace>
            </failure>
        </test-case>
    </test-cases>
</ns2:test-suite>