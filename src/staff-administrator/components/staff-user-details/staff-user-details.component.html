<ng-container *ngIf="userDetails">
  <div *ngIf="suspendedStatus">
    <exui-staff-suspended-banner [messageType]="suspendedStatus"></exui-staff-suspended-banner>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop"><br><br>
      <h2 class="govuk-heading-m">User details</h2>

      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Name</dt>
          <dd class="govuk-summary-list__value">{{userDetails.first_name}} {{userDetails.last_name}}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Email address</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.email_id }}</dd>
          <dd class="govuk-summary-list__actions">
            <a *ngIf="showAction" class="govuk-link" href="#">Change</a>
          </dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Services</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.services | pluckAndJoin: 'service':', ' }}</dd>
          <dd class="govuk-summary-list__actions">
            <a *ngIf="showAction" class="govuk-link" href="#">Change</a>
          </dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Region</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.region }}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
        <div class="govuk-summary-list__row" *ngFor="let location of userDetails.base_locations; let i = index;">
          <dt class="govuk-summary-list__key">{{ location.is_primary ? 'Primary location' : 'Additional locations' }}</dt>
          <dd class="govuk-summary-list__value">{{ location.location }}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">User type</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.user_type }}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Roles</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.roles | pluckAndJoin: 'role':', '  }}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
<!--        <div class="govuk-summary-list__row">-->
<!--          <dt class="govuk-summary-list__key">Job title</dt>-->
<!--          <dd class="govuk-summary-list__value">{{ userDetails.jobTitle }}</dd>-->
<!--          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>-->
<!--        </div><br>-->
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Skills</dt>
          <dd class="govuk-summary-list__value">{{ userDetails.skills | pluckAndJoin: 'skill_code':', '  }}</dd>
          <dd class="govuk-summary-list__actions"><a *ngIf="showAction" class="govuk-link" href="#">Change</a></dd>
        </div><br>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Status</dt>
          <dd class="govuk-summary-list__value"><exui-staff-status [status]="userDetails.suspended" ></exui-staff-status></dd>
        </div>
      </dl>

      <div class="govuk-button-group">
        <button class="govuk-button" data-module="govuk-button" (click)="setDataAndNavigateToUpdateUser()">
          Update
        </button>
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button"
                (click)="updateUserStatus(userDetails.email_id, userDetails.suspended)">
          {{ userDetails.suspended ? 'Restore' : 'Suspend' }}
        </button>
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button">
          Copy
        </button>
      </div>
    </div>
  </div>
</ng-container>
