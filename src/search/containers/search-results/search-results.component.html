<exui-app-header></exui-app-header>
<xuilib-loading-spinner *ngIf="showSpinner"></xuilib-loading-spinner>
<div class="govuk-width-container" *ngIf="!showSpinner">
  <exui-page-wrapper [title]="'Search results'">
    <p>
      <a class="govuk-link" href="" [routerLink]="['/search']">
        Change search
      </a>
    </p>
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header govuk-table-column-header" scope="col">Case</th>
          <th class="govuk-table__header govuk-table-column-header" scope="col">Service</th>
          <th class="govuk-table__header govuk-table-column-actions" scope="col">State</th>
          <th class="govuk-table__header govuk-table-column-actions" scope="col">Location</th>
          <th class="govuk-table__header govuk-table-column-actions" scope="col"></th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row" *ngFor="let case of searchResult.results">
          <td class="govuk-table__cell">
            <div>{{case.caseNameHmctsInternal}}</div>
            <div class="case-reference">{{case.caseReference}}</div>
          </td>
          <td class="govuk-table__cell">
            {{case.CCDJurisdictionName}}
          </td>
          <td class="govuk-table__cell">
            {{case.stateId}}
          </td>
          <td class="govuk-table__cell">
            {{case.baseLocationName}}
          </td>
          <td class="govuk-table__cell action-cell">
            <a class="govuk-link" href="" routerLink="/cases/case-details/{{case.caseReference}}" *ngIf="case.processForAccess !== 'SPECIFIC' && case.processForAccess !== 'CHALLENGED'">
              View
            </a>
            <a class="govuk-link" href="" routerLink="cases/case-details/{{case.caseReference}}/specific-access-request" *ngIf="case.processForAccess === 'SPECIFIC'">
              Specific access
            </a>
            <a class="govuk-link" href="" routerLink="/cases/case-details/{{case.caseReference}}/challenged-access-request" *ngIf="case.processForAccess === 'CHALLENGED'">
              Challenged access
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </exui-page-wrapper>
</div>
